import{s as U,n as F,o as J,e as K,r as Q}from"../chunks/scheduler.BvLojk_z.js";import{S as W,i as O,e as g,c as y,d as q,g as M,p as Z,j as G,s as L,u as $,y as B,h as V,v as tt,o as m,k as f,z as X,w as et,A as R,B as z,t as nt,a as st,x as lt}from"../chunks/index.BknbpnMS.js";import{_ as at}from"../chunks/preload-helper.BQ24v_F8.js";const H=899e7;function it(n,t,e,a,s=0){const i=rt(-n,n,1e3),o=i.map(c=>H*t*(c-e)/((c-e)**2+a**2+s**2)**(3/2)),x=i.map(c=>H*t*a/((c-e)**2+a**2+s**2)**(3/2)),C=N(o,i),l=N(x,i),b=i.map(c=>H*t/Math.sqrt((c-e)**2+a**2+s**2)),d=N(b,i);return[C,l,d]}function rt(n,t,e){const a=(t-n)/(e-1);return Array.from({length:e},(s,i)=>n+i*a)}function N(n,t){const e=n.length;let a=0;for(let s=0;s<e-1;s++)a+=.5*(n[s]+n[s+1])*(t[s+1]-t[s]);return a}function ot(n){let t;return{c(){t=g("div"),this.h()},l(e){t=y(e,"DIV",{style:!0}),q(t).forEach(M),this.h()},h(){Z(t,"height","1000px")},m(e,a){G(e,t,a),n[4](t)},p:F,i:F,o:F,d(e){e&&M(t),n[4](null)}}}function P(n,t,e){const a=(t-n)/(e-1);return Array.from({length:e},(s,i)=>n+i*a)}function ut(n,t){const e=[],a=[];for(let s=0;s<t.length;s++)a.push(n.slice());for(let s=0;s<n.length;s++)e.push(Array.from({length:t.length},(i,o)=>t[s]));return{X:a,Y:e}}function S(n){return n.reduce((t,e)=>t.concat(e),[])}function ct(n,t,e){let a=null,{l:s}=t,{λ:i}=t,o;const x=async(l,b)=>{const d=P(-2*l,2*l,20),c=P(-2*l,2*l,20),{X:A,Y:I}=ut(d,c),h=[],w=[],v=[];for(let r=0;r<A.length;r++){h.push([]),w.push([]),v.push([]);for(let _=0;_<A[r].length;_++){const[k,T,u]=it(l,b,A[r][_],I[r][_]);h[r].push(k),w[r].push(T),v[r].push(u)}}const D=[{z:v,x:d,y:c,type:"contour",colorscale:"RdYlBu",colorbar:{title:"Potential (V)"}},{type:"scatter",mode:"lines",x:P(-l,l,1e3),y:Array(1e3).fill(0),line:{color:"blue",width:2},name:"Charged Wire"},{type:"scatter",mode:"markers",x:A.flat(),y:I.flat(),marker:{size:20,color:"black",symbol:"arrow",angleref:"previous",angle:S(h).map((r,_)=>Math.atan2(S(w)[_],r)*180/Math.PI),sizemode:"scaled"},name:"Field Vectors"}],j={title:"Electric Field and Potential of a Charged Wire",xaxis:{title:"X"},yaxis:{title:"Y"},showlegend:!0};a.newPlot(o,D,j)};J(async()=>{e(3,a=await at(()=>import("../chunks/plotly.xSp973_A.js").then(l=>l.p),__vite__mapDeps([]),import.meta.url))});function C(l){K[l?"unshift":"push"](()=>{o=l,e(0,o)})}return n.$$set=l=>{"l"in l&&e(1,s=l.l),"λ"in l&&e(2,i=l.λ)},n.$$.update=()=>{n.$$.dirty&15&&o&&a&&x(s,i)},[o,s,i,a,C]}class pt extends W{constructor(t){super(),O(this,t,ct,ot,U,{l:1,λ:2})}}function ht(n){let t,e,a="Вычисление напряжённости и потенциала поля",s,i,o,x="Длина нити (L), м:",C,l,b,d,c,A="Линейная плотность заряда (λ), Кл/м:",I,h,w,v,D="<h2>Результаты</h2>",j,r,_,k,T;return r=new pt({props:{l:n[0],λ:n[1]}}),{c(){t=g("main"),e=g("h1"),e.textContent=a,s=L(),i=g("div"),o=g("label"),o.textContent=x,C=L(),l=g("input"),b=L(),d=g("div"),c=g("label"),c.textContent=A,I=L(),h=g("input"),w=L(),v=g("div"),v.innerHTML=D,j=L(),$(r.$$.fragment),this.h()},l(u){t=y(u,"MAIN",{class:!0});var p=q(t);e=y(p,"H1",{"data-svelte-h":!0}),B(e)!=="svelte-1oqynl9"&&(e.textContent=a),s=V(p),i=y(p,"DIV",{class:!0});var E=q(i);o=y(E,"LABEL",{for:!0,"data-svelte-h":!0}),B(o)!=="svelte-1t4iwr2"&&(o.textContent=x),C=V(E),l=y(E,"INPUT",{id:!0,type:!0,min:!0,step:!0}),E.forEach(M),b=V(p),d=y(p,"DIV",{class:!0});var Y=q(d);c=y(Y,"LABEL",{for:!0,"data-svelte-h":!0}),B(c)!=="svelte-ew2m6e"&&(c.textContent=A),I=V(Y),h=y(Y,"INPUT",{id:!0,type:!0,min:!0,step:!0}),Y.forEach(M),w=V(p),v=y(p,"DIV",{"data-svelte-h":!0}),B(v)!=="svelte-1l92lcd"&&(v.innerHTML=D),j=V(p),tt(r.$$.fragment,p),p.forEach(M),this.h()},h(){m(o,"for","length"),m(l,"id","length"),m(l,"type","number"),m(l,"min","0.1"),m(l,"step","0.1"),m(i,"class","input-group svelte-f2vm6j"),m(c,"for","density"),m(h,"id","density"),m(h,"type","number"),m(h,"min","0.1"),m(h,"step","0.1"),m(d,"class","input-group svelte-f2vm6j"),m(t,"class","svelte-f2vm6j")},m(u,p){G(u,t,p),f(t,e),f(t,s),f(t,i),f(i,o),f(i,C),f(i,l),X(l,n[0]),f(t,b),f(t,d),f(d,c),f(d,I),f(d,h),X(h,n[1]),f(t,w),f(t,v),f(t,j),et(r,t,null),_=!0,k||(T=[R(l,"input",n[2]),R(h,"input",n[3])],k=!0)},p(u,[p]){p&1&&z(l.value)!==u[0]&&X(l,u[0]),p&2&&z(h.value)!==u[1]&&X(h,u[1]);const E={};p&1&&(E.l=u[0]),p&2&&(E.λ=u[1]),r.$set(E)},i(u){_||(nt(r.$$.fragment,u),_=!0)},o(u){st(r.$$.fragment,u),_=!1},d(u){u&&M(t),lt(r),k=!1,Q(T)}}}function ft(n,t,e){let a=1,s=1;function i(){a=z(this.value),e(0,a)}function o(){s=z(this.value),e(1,s)}return[a,s,i,o]}class vt extends W{constructor(t){super(),O(this,t,ft,ht,U,{})}}export{vt as component};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
