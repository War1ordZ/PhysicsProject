import{s as te,n as Ut,o as re,e as ae,f as O,h as Wt,r as ie}from"./scheduler.CKeagB7m.js";import{S as ee,i as se,e as o,c as u,d as N,g as M,o as n,j as ne,s as p,u as oe,y as H,h as v,v as ue,k as s,z as J,w as ce,A as rt,B as K,t as de,a as pe,x as ve}from"./index.XykxdH18.js";import{_ as fe}from"./preload-helper.BQ24v_F8.js";const Gt=899e7;function le(t,l,r,e,i=0){const f=he(-t,t,100),g=f.map(x=>Gt*l*(x-r)/((x-r)**2+e**2+i**2)**(3/2)),$=f.map(x=>Gt*l*e/((x-r)**2+e**2+i**2)**(3/2)),I=Pt(g,f),d=Pt($,f),m=f.map(x=>Gt*l/Math.sqrt((x-r)**2+e**2+i**2)),E=Pt(m,f);return[I,d,E]}function he(t,l,r){const e=(l-t)/(r-1);return Array.from({length:r},(i,f)=>t+f*e)}function Pt(t,l){const r=t.length;let e=0;for(let i=0;i<r-1;i++)e+=.5*(t[i]+t[i+1])*(l[i+1]-l[i]);return e}function _e(t){let l;return{c(){l=o("div"),this.h()},l(r){l=u(r,"DIV",{class:!0}),N(l).forEach(M),this.h()},h(){n(l,"class","graph svelte-h0f08j")},m(r,e){ne(r,l,e),t[4](l)},p:Ut,i:Ut,o:Ut,d(r){r&&M(l),t[4](null)}}}function Xt(t,l,r){const e=(l-t)/(r-1);return Array.from({length:r},(i,f)=>t+f*e)}function ge(t,l){const r=[],e=[];for(let i=0;i<l.length;i++)e.push(t.slice());for(let i=0;i<t.length;i++)r.push(Array.from({length:l.length},()=>l[i]));return{X:e,Y:r}}function Zt(t){return t.reduce((l,r)=>l.concat(r),[])}function me(t,l,r){let e=null,{l:i}=l,{λ:f}=l,g;const $=async(d,m)=>{const E=Xt(-2*d,2*d,50),x=Xt(-2*d,2*d,50),{X:L,Y:b}=ge(E,x),q=[],y=[],C=[];for(let h=0;h<L.length;h++){q.push([]),y.push([]),C.push([]);for(let k=0;k<L[h].length;k++){const[w,ut,at]=le(d,m,L[h][k],b[h][k]);q[h].push(-w),y[h].push(-ut),C[h].push(at)}}const nt=[{z:C,x:E,y:x,type:"contour",colorscale:"RdBu",colorbar:{title:"Потенциал (В)"}},{type:"scatter",mode:"lines",x:Xt(-d,d,1e3),y:Array(1e3).fill(0),line:{color:"black",width:2},name:"Заряженная нить"},{type:"scatter",mode:"markers",x:L.flat(),y:b.flat(),marker:{size:7,color:"000000cc  ",symbol:"arrow-open",angle:Zt(q).map((h,k)=>(Math.atan2(Zt(y)[k],h)*180+270)/Math.PI),sizemode:"scaled",sizeref:2.5,sizemin:.5,sizemax:10},name:"Векторы поля"}],Q={title:"Визуализация предметной области",xaxis:{title:"X",range:[-d*1.5,d*1.5]},yaxis:{title:"Y",range:[-d*.75,d*.75]},showlegend:!1};e.newPlot(g,nt,Q)};re(async()=>{r(3,e=await fe(()=>import("./plotly.xSp973_A.js").then(d=>d.p),__vite__mapDeps([]),import.meta.url))});function I(d){ae[d?"unshift":"push"](()=>{g=d,r(0,g)})}return t.$$set=d=>{"l"in d&&r(1,i=d.l),"λ"in d&&r(2,f=d.λ)},t.$$.update=()=>{t.$$.dirty&15&&g&&e&&$(i,f)},[g,i,f,e,I]}class be extends ee{constructor(l){super(),se(this,l,me,_e,te,{l:1,λ:2})}}function $e(t){let l,r,e,i,f="Вычисление напряжённости и потенциала поля",g,$,I="Параметры симуляции",d,m,E,x="Длина нити (L), <strong>м</strong>:",L,b,q,y,C,nt="Линейная плотность заряда (λ), <strong>Кл/м</strong>:",Q,h,k,w,ut="Расчёт напряжённости и потенциала в точке",at,F,W,Yt="Координата X, <strong>м</strong>:",Et,T,xt,z,Z,jt="Координата Y, <strong>м</strong>:",yt,A,Ct,U,tt,Rt="Потенциал поля:",Mt,B,it,It,G,et,St="Модуль вектора напряжённости:",Lt,D,ot,kt,st,Ot="Формулы для расчёта",Tt,P,ct,At,Vt,Ht,X,dt,Nt,wt,Bt,Y,pt,Dt,j,Jt,vt,qt,R,Kt,Ft,S,V,zt,Qt;return S=new be({props:{l:t[0],λ:t[1]}}),{c(){l=o("main"),r=o("div"),e=o("div"),i=o("h1"),i.textContent=f,g=p(),$=o("h3"),$.textContent=I,d=p(),m=o("div"),E=o("label"),E.innerHTML=x,L=p(),b=o("input"),q=p(),y=o("div"),C=o("label"),C.innerHTML=nt,Q=p(),h=o("input"),k=p(),w=o("h3"),w.textContent=ut,at=p(),F=o("div"),W=o("label"),W.innerHTML=Yt,Et=p(),T=o("input"),xt=p(),z=o("div"),Z=o("label"),Z.innerHTML=jt,yt=p(),A=o("input"),Ct=p(),U=o("div"),tt=o("label"),tt.textContent=Rt,Mt=p(),B=o("input"),It=p(),G=o("div"),et=o("label"),et.textContent=St,Lt=p(),D=o("input"),kt=p(),st=o("h3"),st.textContent=Ot,Tt=p(),P=o("img"),At=p(),Vt=o("br"),Ht=p(),X=o("img"),Nt=p(),wt=o("br"),Bt=p(),Y=o("img"),Dt=p(),j=o("img"),qt=p(),R=o("img"),Ft=p(),oe(S.$$.fragment),this.h()},l(a){l=u(a,"MAIN",{class:!0});var _=N(l);r=u(_,"DIV",{class:!0});var lt=N(r);e=u(lt,"DIV",{class:!0});var c=N(e);i=u(c,"H1",{class:!0,"data-svelte-h":!0}),H(i)!=="svelte-1oqynl9"&&(i.textContent=f),g=v(c),$=u(c,"H3",{class:!0,"data-svelte-h":!0}),H($)!=="svelte-y4uk5v"&&($.textContent=I),d=v(c),m=u(c,"DIV",{class:!0});var ft=N(m);E=u(ft,"LABEL",{for:!0,"data-svelte-h":!0}),H(E)!=="svelte-n3vgeh"&&(E.innerHTML=x),L=v(ft),b=u(ft,"INPUT",{id:!0,type:!0,min:!0,step:!0}),ft.forEach(M),q=v(c),y=u(c,"DIV",{class:!0});var ht=N(y);C=u(ht,"LABEL",{for:!0,"data-svelte-h":!0}),H(C)!=="svelte-oadt9p"&&(C.innerHTML=nt),Q=v(ht),h=u(ht,"INPUT",{id:!0,type:!0,min:!0,step:!0}),ht.forEach(M),k=v(c),w=u(c,"H3",{class:!0,"data-svelte-h":!0}),H(w)!=="svelte-i6nor4"&&(w.textContent=ut),at=v(c),F=u(c,"DIV",{class:!0});var _t=N(F);W=u(_t,"LABEL",{for:!0,"data-svelte-h":!0}),H(W)!=="svelte-i8sxx7"&&(W.innerHTML=Yt),Et=v(_t),T=u(_t,"INPUT",{id:!0,type:!0,step:!0}),_t.forEach(M),xt=v(c),z=u(c,"DIV",{class:!0});var gt=N(z);Z=u(gt,"LABEL",{for:!0,"data-svelte-h":!0}),H(Z)!=="svelte-1o86rug"&&(Z.innerHTML=jt),yt=v(gt),A=u(gt,"INPUT",{id:!0,type:!0,step:!0}),gt.forEach(M),Ct=v(c),U=u(c,"DIV",{class:!0});var mt=N(U);tt=u(mt,"LABEL",{for:!0,"data-svelte-h":!0}),H(tt)!=="svelte-xg5y17"&&(tt.textContent=Rt),Mt=v(mt),B=u(mt,"INPUT",{id:!0,type:!0}),mt.forEach(M),It=v(c),G=u(c,"DIV",{class:!0});var bt=N(G);et=u(bt,"LABEL",{for:!0,"data-svelte-h":!0}),H(et)!=="svelte-14rsxac"&&(et.textContent=St),Lt=v(bt),D=u(bt,"INPUT",{id:!0,type:!0}),bt.forEach(M),kt=v(c),st=u(c,"H3",{class:!0,"data-svelte-h":!0}),H(st)!=="svelte-129pg4g"&&(st.textContent=Ot),Tt=v(c),P=u(c,"IMG",{src:!0,alt:!0}),At=v(c),Vt=u(c,"BR",{}),Ht=v(c),X=u(c,"IMG",{src:!0,alt:!0}),Nt=v(c),wt=u(c,"BR",{}),Bt=v(c),Y=u(c,"IMG",{src:!0,alt:!0}),Dt=v(c),j=u(c,"IMG",{class:!0,src:!0,alt:!0}),c.forEach(M),lt.forEach(M),qt=v(_),R=u(_,"IMG",{class:!0,src:!0,alt:!0}),Ft=v(_),ue(S.$$.fragment,_),_.forEach(M),this.h()},h(){n(i,"class","svelte-d8v5tx"),n($,"class","svelte-d8v5tx"),n(E,"for","length"),n(b,"id","length"),n(b,"type","number"),n(b,"min","0.1"),n(b,"step","0.1"),n(m,"class","input-group svelte-d8v5tx"),n(C,"for","density"),n(h,"id","density"),n(h,"type","number"),n(h,"min","0.1"),n(h,"step","0.1"),n(y,"class","input-group svelte-d8v5tx"),n(w,"class","svelte-d8v5tx"),n(W,"for","x-coordinate"),n(T,"id","x-coordinate"),n(T,"type","number"),n(T,"step","0.1"),n(F,"class","input-group svelte-d8v5tx"),n(Z,"for","x-coordinate"),n(A,"id","x-coordinate"),n(A,"type","number"),n(A,"step","0.1"),n(z,"class","input-group svelte-d8v5tx"),n(tt,"for","potential"),n(B,"id","x-coordinate"),n(B,"type","text"),B.value=it=$t(t[6],"В"),B.disabled=!0,n(U,"class","input-group svelte-d8v5tx"),n(et,"for","potential"),n(D,"id","x-coordinate"),n(D,"type","text"),D.value=ot=$t(Math.sqrt(t[4]*t[4]+t[5]*t[5]),"Н/Кл"),D.disabled=!0,n(G,"class","input-group svelte-d8v5tx"),n(st,"class","svelte-d8v5tx"),O(P.src,ct=`https://latex.codecogs.com/svg.image?\\varphi=\\int_{${-t[0]}}^{${t[0]}}\\frac{\\lambda dx}{4\\pi\\epsilon_0\\sqrt{(x-(${t[2]}))^2+(${t[3]})^2}}=${t[6]}\\text{ V}`)||n(P,"src",ct),n(P,"alt","varphi"),O(X.src,dt=`https://latex.codecogs.com/svg.image?\\overline{E}_x=\\int_{${-t[0]}}^{${t[0]}}\\frac{k\\lambda((${t[2]})-x)}{(((${t[2]})-x^2)-(${t[3]})^2)^{\\frac{3}{2}}}dx=${-t[4]}\\text{ N/C}`)||n(X,"src",dt),n(X,"alt","varphi"),O(Y.src,pt=`https://latex.codecogs.com/svg.image?\\overline{E}_y=\\int_{${-t[0]}}^{${t[0]}}\\frac{k\\lambda(${t[3]})}{(((${t[2]})-x^2)-(${t[3]})^2)^{\\frac{3}{2}}}dx=${t[5]}\\text{ N/C}`)||n(Y,"src",pt),n(Y,"alt","varphi"),n(j,"class","cross svelte-d8v5tx"),O(j.src,Jt="cross.svg")||n(j,"src",Jt),n(j,"alt","cross"),n(e,"class",vt=Wt(`controls ${t[7]?"active":"hidden"}`)+" svelte-d8v5tx"),n(r,"class","controls-container svelte-d8v5tx"),n(R,"class","settings svelte-d8v5tx"),O(R.src,Kt="settings.svg")||n(R,"src",Kt),n(R,"alt","setting"),n(l,"class","svelte-d8v5tx")},m(a,_){ne(a,l,_),s(l,r),s(r,e),s(e,i),s(e,g),s(e,$),s(e,d),s(e,m),s(m,E),s(m,L),s(m,b),J(b,t[0]),s(e,q),s(e,y),s(y,C),s(y,Q),s(y,h),J(h,t[1]),s(e,k),s(e,w),s(e,at),s(e,F),s(F,W),s(F,Et),s(F,T),J(T,t[2]),s(e,xt),s(e,z),s(z,Z),s(z,yt),s(z,A),J(A,t[3]),s(e,Ct),s(e,U),s(U,tt),s(U,Mt),s(U,B),s(e,It),s(e,G),s(G,et),s(G,Lt),s(G,D),s(e,kt),s(e,st),s(e,Tt),s(e,P),s(e,At),s(e,Vt),s(e,Ht),s(e,X),s(e,Nt),s(e,wt),s(e,Bt),s(e,Y),s(e,Dt),s(e,j),s(l,qt),s(l,R),s(l,Ft),ce(S,l,null),V=!0,zt||(Qt=[rt(b,"input",t[8]),rt(h,"input",t[9]),rt(T,"input",t[10]),rt(A,"input",t[11]),rt(j,"click",t[12]),rt(R,"click",t[13])],zt=!0)},p(a,[_]){_&1&&K(b.value)!==a[0]&&J(b,a[0]),_&2&&K(h.value)!==a[1]&&J(h,a[1]),_&4&&K(T.value)!==a[2]&&J(T,a[2]),_&8&&K(A.value)!==a[3]&&J(A,a[3]),(!V||_&64&&it!==(it=$t(a[6],"В"))&&B.value!==it)&&(B.value=it),(!V||_&48&&ot!==(ot=$t(Math.sqrt(a[4]*a[4]+a[5]*a[5]),"Н/Кл"))&&D.value!==ot)&&(D.value=ot),(!V||_&77&&!O(P.src,ct=`https://latex.codecogs.com/svg.image?\\varphi=\\int_{${-a[0]}}^{${a[0]}}\\frac{\\lambda dx}{4\\pi\\epsilon_0\\sqrt{(x-(${a[2]}))^2+(${a[3]})^2}}=${a[6]}\\text{ V}`))&&n(P,"src",ct),(!V||_&29&&!O(X.src,dt=`https://latex.codecogs.com/svg.image?\\overline{E}_x=\\int_{${-a[0]}}^{${a[0]}}\\frac{k\\lambda((${a[2]})-x)}{(((${a[2]})-x^2)-(${a[3]})^2)^{\\frac{3}{2}}}dx=${-a[4]}\\text{ N/C}`))&&n(X,"src",dt),(!V||_&45&&!O(Y.src,pt=`https://latex.codecogs.com/svg.image?\\overline{E}_y=\\int_{${-a[0]}}^{${a[0]}}\\frac{k\\lambda(${a[3]})}{(((${a[2]})-x^2)-(${a[3]})^2)^{\\frac{3}{2}}}dx=${a[5]}\\text{ N/C}`))&&n(Y,"src",pt),(!V||_&128&&vt!==(vt=Wt(`controls ${a[7]?"active":"hidden"}`)+" svelte-d8v5tx"))&&n(e,"class",vt);const lt={};_&1&&(lt.l=a[0]),_&2&&(lt.λ=a[1]),S.$set(lt)},i(a){V||(de(S.$$.fragment,a),V=!0)},o(a){pe(S.$$.fragment,a),V=!1},d(a){a&&M(l),ve(S),zt=!1,ie(Qt)}}}function $t(t,l){return Math.abs(t)>=1e9?`${(t/1e9).toFixed(2)} Г${l}`:Math.abs(t)>=1e6?`${(t/1e6).toFixed(2)} М${l}`:Math.abs(t)>=1e3?`${(t/1e3).toFixed(2)} к${l}`:Math.abs(t)<.001?`${(t*1e6).toFixed(2)} мк${l}`:Math.abs(t)<1?`${(t*1e3).toFixed(2)} м${l}`:Math.abs(t)<1e-6?`${(t*1e9).toFixed(2)} н${l}`:`${t.toFixed(2)} ${l}`}function Ee(t,l,r){let e=1,i=1,f=0,g=1,[$,I,d]=[0,0,0],m=!0;setInterval(()=>{const[C,nt,Q]=le(e,i,f,g);r(4,$=C??0),r(5,I=nt??0),r(6,d=Q??0),console.log($,I)},100);function E(){e=K(this.value),r(0,e)}function x(){i=K(this.value),r(1,i)}function L(){f=K(this.value),r(2,f)}function b(){g=K(this.value),r(3,g)}return[e,i,f,g,$,I,d,m,E,x,L,b,()=>r(7,m=!1),()=>r(7,m=!0)]}class Me extends ee{constructor(l){super(),se(this,l,Ee,$e,te,{})}}export{Me as component};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
